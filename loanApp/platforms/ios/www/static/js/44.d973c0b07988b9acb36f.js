webpackJsonp([44],{"35w8":function(t,e){},Pc0s:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("lC5x"),i=a.n(s),r=a("aA9S"),o=a.n(r),n=a("J0Oq"),c=a.n(n),l=a("4YfN"),p=a.n(l),u=a("hxP8"),d=a("MMGN"),v=a("P9rx"),h=a("u9a8"),f=(a("psq8"),a("rGUG")),g=a("iMdm"),_=a("9rMa"),m=a("P9l9"),C={data:function(){return{loanVariety:"",reports:{},approveState:!1,sendState:!1,catalogState:!1,errorMessage:""}},components:{vHeader:u.a,rsList:d.a,rsText:v.a,rsSelect:h.a,unreported:g.a,topTip:f.a},computed:p()({},Object(_.b)(["customer"])),created:function(){this.getLoanVarity(),this._getCurrentState()},methods:p()({getLoanVarity:function(){var t=this;return c()(i.a.mark(function e(){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.customer.rootId+1,Object(m.C)(a).then(function(e){if(e.result){var a=e.data.loanVariety;Object(m.A)(a).then(function(e){t.loanVariety=e.data.value;var a=o()(t.customer,{loanVariety:t.loanVariety});t.setCustomer(a)})}});case 2:case"end":return e.stop()}},e,t)}))()},_getCurrentState:function(){var t=this;Object(m.q)(this.customer.id).then(function(e){e.result&&(t.catalogState=e.data.catalogState.done,t.sendState=e.data.sendState.done,t.approveState=e.data.confirmApproveState.done)})}},Object(_.c)({setCustomer:"SET_CUSTOMER"}),{goback:function(){this.$router.push({path:"/approve"})},goEdit:function(t,e){if(!e)return"baoshen"!==t&&"state"!==t&&"zhengping"!==t||this.catalogState?"state"!==t&&"zhengping"!==t||this.sendState?"zhengping"!==t||this.approveState?void this.$router.push({path:"/approve/"+this.customer.id+"/"+t}):(this.errorMessage="请先修改审批状态",void this.$refs.topTip.show()):(this.errorMessage="请先修改报审状态",void this.$refs.topTip.show()):(this.errorMessage="请先完善资料目录表",void this.$refs.topTip.show())}}),watch:{$route:function(t,e){/^\/approve\/.+\/.+$/.test(e.path)&&this._getCurrentState()}}},S={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"interview-detail"},[a("v-header",{attrs:{title:"抵押审批"},on:{goback:t.goback}}),t._v(" "),a("rs-list",[a("ul",{attrs:{slot:"body"},slot:"body"},[a("li",[a("rs-text",{attrs:{label:"贷款编号",value:t.customer.id}})],1),t._v(" "),a("li",[a("rs-text",{attrs:{label:"客户姓名",value:t.customer.clientName}})],1),t._v(" "),a("li",[a("rs-text",{attrs:{label:"联系方式",value:t.customer.clientPhone}})],1),t._v(" "),a("li",[a("rs-text",{attrs:{label:"借款品种",value:t.loanVariety}})],1),t._v(" "),a("li",{staticClass:"placeholder"}),t._v(" "),a("li",{staticClass:"edit-link",on:{click:function(e){e.stopPropagation(),t.goEdit("mulu",t.catalogState)}}},[a("i",{staticClass:"fa",class:t.catalogState?"fa-check-circle-o success":"fa-pencil-square-o warning"}),t._v(" "),a("span",{staticClass:"text"},[t._v("资料目录表")]),t._v(" "),a("span",{staticClass:"edit",domProps:{innerHTML:t._s(t.catalogState?"已完成":"编辑")}})]),t._v(" "),a("li",{staticClass:"edit-link",on:{click:function(e){e.stopPropagation(),t.goEdit("baoshen",t.sendState)}}},[a("i",{staticClass:"fa",class:t.sendState?"fa-check-circle-o success":"fa-pencil-square-o warning"}),t._v(" "),a("span",{staticClass:"text"},[t._v("报审")]),t._v(" "),a("span",{staticClass:"edit",domProps:{innerHTML:t._s(t.sendState?"已完成":"编辑")}})]),t._v(" "),a("li",{staticClass:"edit-link",on:{click:function(e){e.stopPropagation(),t.goEdit("state",t.approveState)}}},[a("i",{staticClass:"fa",class:t.approveState?"fa-check-circle-o success":"fa-pencil-square-o warning"}),t._v(" "),a("span",{staticClass:"text"},[t._v("确定审批状态")]),t._v(" "),a("span",{staticClass:"edit",domProps:{innerHTML:t._s(t.approveState?"已完成":"编辑")}})]),t._v(" "),a("li",{staticClass:"edit-link",on:{click:function(e){e.stopPropagation(),t.goEdit("zhengping","正评"===t.customer.extra.commentType)}}},[a("i",{staticClass:"fa",class:"正评"===t.customer.extra.commentType?"fa-check-circle-o success":"fa-pencil-square-o warning"}),t._v(" "),a("span",{staticClass:"text"},[t._v("出正评")]),t._v(" "),a("span",{staticClass:"edit",domProps:{innerHTML:t._s("正评"===t.customer.extra.commentType?"已完成":"编辑")}})])])]),t._v(" "),a("top-tip",{ref:"topTip"},[a("div",{staticClass:"tip-title"},[a("i",{staticClass:"fa fa-ban icon"}),t._v(" "),a("span",{staticClass:"text"},[t._v(t._s(t.errorMessage))])])]),t._v(" "),a("router-view")],1)},staticRenderFns:[]};var b=a("C7Lr")(C,S,!1,function(t){a("35w8")},"data-v-352e6c38",null);e.default=b.exports}});
//# sourceMappingURL=44.d973c0b07988b9acb36f.js.map