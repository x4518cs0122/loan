webpackJsonp([7],{JUjd:function(t,e){},PcwY:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("hxP8"),a=s("MMGN"),r=s("GLyw"),n=s("u9a8"),o=s("ZLEe"),l=s.n(o),u={props:{house:{type:Object,default:function(){return{}}}},data:function(){return{toggleShow:!1,area:"",enquiryResult:"",totalPrice:"",areaError:!1,enquiryResultError:!1,warning:!1}},components:{vHeader:i.a},computed:{isadd:function(){return 0===l()(this.house).length},total:function(){return this.areaError="NaN"===parseFloat(this.area).toString(),this.enquiryResultError="NaN"===parseFloat(this.enquiryResult).toString(),this.areaError||this.enquiryResultError?"":(this.totalPrice=parseFloat(this.area)*parseFloat(this.enquiryResult),this.totalPrice)}},methods:{hide:function(){this.toggleShow=!1},show:function(){this.toggleShow=!0},submit:function(){if(this.isadd)if(this.areaError||this.enquiryResultError)this.warning=!0;else{var t={area:this.area,enquiryResult:this.enquiryResult,totalPrice:this.total};this.$emit("submit",t),this.reset(),this.hide()}},reset:function(){this.totalPrice="",this.area="",this.enquiryResult=""}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.toggleShow,expression:"toggleShow"}],staticClass:"estate"},[s("vHeader",{attrs:{title:t.isadd?"添加房产信息":"房产信息",next:t.isadd?"确定":"",back:"接单"},on:{goback:t.hide,submit:t.submit}}),t._v(" "),s("div",{staticClass:"info-wrapper"},[s("p",{directives:[{name:"show",rawName:"v-show",value:t.warning,expression:"warning"}],staticClass:"warning"},[t._v("输入不合法，请输入数字")]),t._v(" "),s("div",{staticClass:"area"},[s("span",{staticClass:"text"},[t._v("房产面积")]),t._v(" "),t.house.area?s("input",{staticClass:"input",attrs:{disabled:""},domProps:{value:t.house.area}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.area,expression:"area"}],ref:"area",staticClass:"input",attrs:{placeholder:"请输入房产面积（性质）"},domProps:{value:t.area},on:{input:function(e){e.target.composing||(t.area=e.target.value)}}}),t._v(" "),s("span",{staticClass:"perMeters"},[t._v("平方米")])]),t._v(" "),s("div",{staticClass:"area"},[s("span",{staticClass:"text"},[t._v("询价结果")]),t._v(" "),t.house.enquiryResult?s("input",{staticClass:"input",attrs:{disabled:""},domProps:{value:t.house.enquiryResult}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.enquiryResult,expression:"enquiryResult"}],ref:"price",staticClass:"input",attrs:{placeholder:"请输入询价结果"},domProps:{value:t.enquiryResult},on:{input:function(e){e.target.composing||(t.enquiryResult=e.target.value)}}}),t._v(" "),s("span",{staticClass:"perMeters"},[t._v("元/平方米")])]),t._v(" "),s("div",{staticClass:"area"},[s("span",{staticClass:"text"},[t._v("总价")]),t._v(" "),s("input",{staticClass:"input",attrs:{disabled:""},domProps:{value:t.house.totalPrice||t.total}})])])],1)},staticRenderFns:[]};var d=s("C7Lr")(u,c,!1,function(t){s("JUjd")},"data-v-6e2caa49",null).exports,p=s("rulf"),h=s("P9l9"),m={data:function(){return{options:{cardType:[{id:1,value:"身份证"}]},commonValidations:p.c,house:{},obj:{checklistId:null,datetime:"",clientName:"",clientPhone:"",clientIdType:"",clientIdNumber:"",clientWorkType:0,clientWorkUnit:"",loanVariety:0,loanAmount:"",loanPeriod:"",checklistSource:0,agentName:"",remark:"",houses:[]}}},methods:{selected:function(t,e){this.obj[e]="datetime"!==e?parseInt(t):new Date(t).getTime()},goback:function(){this.$router.back()},rsinput:function(t,e){this.obj[e]=t},houseClick:function(t){this.house=t,this.$refs.estate.show()},showEstate:function(){this.house={},this.$refs.estate.show()},addEstate:function(t){this.obj.houses.push(t)},submit:function(){var t=this;Object(h.p)().then(function(e){t.obj.checklistId=e.data.id,t.obj.clientIdType="身份证",Object(h._6)(t.obj).then(function(e){t.$router.push({name:"bussiness"})})})}},components:{vHeader:i.a,rsList:a.a,rsInput:r.a,rsSelect:n.a,estate:d}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[s("div",{staticClass:"order"},[s("v-header",{attrs:{title:"抵押接单",next:"提交"},on:{goback:t.goback,submit:t.submit}}),t._v(" "),s("rs-list",[s("ul",{attrs:{slot:"body"},slot:"body"},[s("li",{staticClass:"placeholder"}),t._v(" "),s("li",[s("rs-select",{attrs:{selectText:"完成时间",model:"datetime",isDate:!0},on:{selected:t.selected}})],1),t._v(" "),s("li",{staticClass:"placeholder"}),t._v(" "),s("li",[s("rs-input",{attrs:{inputText:"客户姓名",model:"clientName",required:""},on:{input:t.rsinput}})],1),t._v(" "),s("li",[s("rs-input",{attrs:{inputText:"联系方式",model:"clientPhone",required:"",validation:t.commonValidations.phoneValidation,type:"number",message:"手机号格式不正确"},on:{input:t.rsinput}})],1),t._v(" "),s("li",[s("rs-select",{attrs:{selectText:"证件类型",model:"clientIdType",options:t.options.cardType},on:{selected:t.selected}})],1),t._v(" "),s("li",[s("rs-input",{attrs:{inputText:"证件号码",model:"clientIdNumber",validation:t.commonValidations.idCardValidation,message:"身份证格式不正确",required:""},on:{input:t.rsinput}})],1),t._v(" "),s("li",[s("rs-select",{attrs:{selectText:"工作类型",model:"clientWorkType",valueType:"6"},on:{selected:t.selected}})],1),t._v(" "),s("li",[s("rs-input",{attrs:{inputText:"工作单位",model:"clientWorkUnit",required:""},on:{input:t.rsinput}})],1),t._v(" "),s("li",[s("rs-select",{attrs:{selectText:"借款品种",model:"loanVariety",valueType:"7"},on:{selected:t.selected}})],1),t._v(" "),s("li",{staticClass:"no-border"},[s("rs-input",{attrs:{inputText:"贷款金额",model:"loanAmount",required:"",validation:t.commonValidations.numberValidation,message:"请输入数字"},on:{input:t.rsinput}})],1),t._v(" "),s("li",{staticClass:"no-border"},[s("rs-input",{attrs:{inputText:"贷款期限",model:"loanPeriod",required:"",validation:t.commonValidations.numberValidation,message:"请输入数字"},on:{input:t.rsinput}})],1),t._v(" "),s("li",{staticClass:"placeholder"}),t._v(" "),t._l(t.obj.houses,function(e){return s("li",{key:e.id},[s("rs-select",{attrs:{selectText:"房产信息"},on:{clicked:function(s){t.houseClick(e)}}})],1)}),t._v(" "),s("li",{staticClass:"addHouses",on:{click:t.showEstate}},[s("p",[s("i",{staticClass:"fa fa-plus-square-o",attrs:{"aria-hidden":"true"}}),t._v("添加房产信息")])]),t._v(" "),s("rs-select",{attrs:{selectText:"单子来源",options:t.options.orderFrom,model:"checklistSource",valueType:"5"},on:{selected:t.selected}}),t._v(" "),s("li",[s("rs-input",{attrs:{inputText:"中介名称",model:"agentName"},on:{input:t.rsinput}})],1),t._v(" "),s("li",[s("rs-input",{attrs:{inputText:"备注事项",model:"remark"},on:{input:t.rsinput}})],1)],2)]),t._v(" "),s("estate",{ref:"estate",attrs:{house:t.house},on:{submit:t.addEstate}})],1)])},staticRenderFns:[]};var f=s("C7Lr")(m,v,!1,function(t){s("uTkG")},"data-v-014eb6eb",null);e.default=f.exports},uTkG:function(t,e){}});
//# sourceMappingURL=7.bec383b8b349aabeacd7.js.map